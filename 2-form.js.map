{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nform.classList.add('js-feedback-form');\n\nlet formData = { email: \"\", message: \"\" };\n\ntry {\n  formData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n} catch (e) {\n  console.warn(\"Bad JSON in storage\", e);\n  formData = { email: \"\", message: \"\" };\n}\n\nif (!formData || typeof formData !== \"object\") {\n  formData = { email: \"\", message: \"\" };\n}\n\nformData = {\n  email: formData.email ?? \"\",\n  message: formData.message ?? \"\",\n};\n\nform.email.value = formData.email;\nform.message.value = formData.message;\n\nform.addEventListener('input', () => {\n  formData = {\n    email: form.email.value,\n    message: form.message.value, \n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n});\n\nform.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n      formData = {\n    email: form.email.value.trim(),\n    message: form.message.value.trim(), \n    };\n    if (!formData.email || !formData.message) {\n        alert('Fill please all fields');\n        return;\n    };\n    console.log(formData);\n    form.reset();\n     localStorage.removeItem(STORAGE_KEY);\n     formData = { email: \"\", message: \"\" };\n});\n\n"],"names":["STORAGE_KEY","form","formData","e","evt"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EACpDA,EAAK,UAAU,IAAI,kBAAkB,EAErC,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,GAAI,CACFA,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAW,CAAC,CACzD,OAASG,EAAG,CACV,QAAQ,KAAK,sBAAuBA,CAAC,EACrCD,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,EAEI,CAACA,GAAY,OAAOA,GAAa,YACnCA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,GAGrCA,EAAW,CACT,MAAOA,EAAS,OAAS,GACzB,QAASA,EAAS,SAAW,EAC/B,EAEAD,EAAK,MAAM,MAAQC,EAAS,MAC5BD,EAAK,QAAQ,MAAQC,EAAS,QAE9BD,EAAK,iBAAiB,QAAS,IAAM,CACnCC,EAAW,CACT,MAAOD,EAAK,MAAM,MAClB,QAASA,EAAK,QAAQ,KAC1B,EACI,aAAa,QAAQD,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC9D,CAAC,EAEDD,EAAK,iBAAiB,SAAWG,GAAQ,CAMrC,GALAA,EAAI,eAAc,EAChBF,EAAW,CACb,MAAOD,EAAK,MAAM,MAAM,KAAM,EAC9B,QAASA,EAAK,QAAQ,MAAM,KAAM,CACtC,EACQ,CAACC,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACR,CACI,QAAQ,IAAIA,CAAQ,EACpBD,EAAK,MAAK,EACT,aAAa,WAAWD,CAAW,EACnCE,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACxC,CAAC"}